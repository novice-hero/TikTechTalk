# 메모리 공간 / 스택영역 / 힙영역

<aside>
💬 메모리 공간은 코드 영역, 데이터 영역, 스택 영역, 힙 영역으로 나뉜다. 코드 영역은 실행할 프로그램의 코드가 저장되는 영역, 데이터 영역은 프로그램의 전역 변수와 정적 변수가 저장되는 영역, 스택 영역은 함수의 호출과 관계되는 지역 변수와 매개변수가 저장되는 영역, 힙 영역은 사용자가 직접 관리할 수 있는 메모리 영역이다.

</aside>

프로그램이 실행하게 되면 OS는 메모리(RAM)에 공간을 할당해준다. 메모리 공간은 코드 영역, 데이터 영역, 스택 영역, 힙 영역의 네 가지 영역으로 나뉜다.

## **코드(Code) 영역**

우리가 작성한 **소스코드**가 들어 가는 부분. 즉, 실행할 프로그램의 코드가 저장되는 영역으로 **텍스트(code)영역**이라고도 부른다. 코드영역은 실행 파일을 구성하는 명령어들이 올라가는 메모리 영역으로 함수, 제어문, 상수 등이 여기에 지정된다.

## **데이터(Data) 영역**

전역변수와 정적변수가 할당되는 영역. 프로그램의 시작과 동시에 할당되고, 프로그램이 종료되어야 메모리가 소멸되는 영역

## **스택(Stack) 영역**

프로그램이 자동으로 사용하는 임시 메모리 영역이다. 함수 호출 시 생성되는 지역 변수와 매개변수가 저장되는 영역이다. 함수가 종료되면 해당 함수에 할당된 변수들을 메모리에서 해제시킨다.

## **힙(Heap) 영역**

프로그래머가 할당/해제하는 메모리 공간이다. 동적으로 할당 할 변수들이 여기에 저장된다. 예를 들어 `클래스, 클로저`가 이 부분에 해당 된다. `런타임 시`에 크기가 결정된다.

힙 영역과 스택 영역은 같은 공간을 공유하며 나눠가진다. 힙은 메모리 위쪽 주소부터 할당되고 스택은은 아래 쪽부터 할당된다. 그래서 각 영역이 상대 공간을 침범하는 일이 발생할 수 있는데 이를 각각 HEAP OVERFLOW, STACK OVERFLOW라고 한다.

스택 영역이 크면 클 수록 힙 영역이 작아지고, 힙 영역이 클수록 스택 영역은 작아진다.

참고 자료

https://st-lab.tistory.com/198

[https://jinshine.github.io/2018/05/17/컴퓨터 기초/메모리구조/](https://jinshine.github.io/2018/05/17/%EC%BB%B4%ED%93%A8%ED%84%B0%20%EA%B8%B0%EC%B4%88/%EB%A9%94%EB%AA%A8%EB%A6%AC%EA%B5%AC%EC%A1%B0/)
